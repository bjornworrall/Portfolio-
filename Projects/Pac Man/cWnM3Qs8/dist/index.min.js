"use strict";function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}var width=28,grid=document.querySelector(".grid"),scoreDisplay=document.querySelector("#score"),squares=[],score=0,powerScore=10,layout=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,3,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,4,4,4,4,4,4,4,4,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,2,2,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,4,4,4,4,4,4,0,0,0,4,1,2,2,2,2,2,2,1,4,0,0,0,4,4,4,4,4,4,1,1,1,1,1,1,0,1,1,4,1,2,2,2,2,2,2,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,4,1,1,1,1,1,1,1,1,4,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,1,0,1,1,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,3,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function createBoard(){for(var s=0;s<layout.length;s++){var e=document.createElement("div");grid.appendChild(e),squares.push(e),0===layout[s]?squares[s].classList.add("pac-dot"):1===layout[s]?squares[s].classList.add("wall"):2===layout[s]?squares[s].classList.add("ghost-lair"):3===layout[s]&&squares[s].classList.add("power-pellet")}}createBoard();var pacmanCurrentIndex=490;function control(s){switch(squares[pacmanCurrentIndex].classList.remove("pacman"),s.keyCode){case 40:console.log("pressed down"),!squares[pacmanCurrentIndex+width].classList.contains("ghost-lair")&&!squares[pacmanCurrentIndex+width].classList.contains("wall")&&pacmanCurrentIndex+width<width*width&&(pacmanCurrentIndex+=width);break;case 38:console.log("pressed up"),!squares[pacmanCurrentIndex-width].classList.contains("ghost-lair")&&!squares[pacmanCurrentIndex-width].classList.contains("wall")&&0<=pacmanCurrentIndex-width&&(pacmanCurrentIndex-=width);break;case 37:console.log("pressed left"),squares[pacmanCurrentIndex-1].classList.contains("ghost-lair")||squares[pacmanCurrentIndex-1].classList.contains("wall")||pacmanCurrentIndex%width==0||(pacmanCurrentIndex-=1),364===pacmanCurrentIndex&&(pacmanCurrentIndex=391);break;case 39:console.log("pressed right"),!squares[pacmanCurrentIndex+1].classList.contains("ghost-lair")&&!squares[pacmanCurrentIndex+1].classList.contains("wall")&&pacmanCurrentIndex%width<width-1&&(pacmanCurrentIndex+=1),391===pacmanCurrentIndex&&(pacmanCurrentIndex=364)}squares[pacmanCurrentIndex].classList.add("pacman"),pacDotEat(),powerPellet(),checkForWin()}function pacDotEat(){squares[pacmanCurrentIndex].classList.contains("pac-dot")&&(score++,scoreDisplay.innerHTML=score,squares[pacmanCurrentIndex].classList.remove("pac-dot"))}function powerPellet(){squares[pacmanCurrentIndex].classList.contains("power-pellet")&&(squares[pacmanCurrentIndex].classList.remove("power-pellet"),score+=powerScore,scoreDisplay.innerHTML=score,ghosts.forEach(function(s){return s.isScared=!0}),setTimeout(unScareGhosts,1e4))}function unScareGhosts(){ghosts.forEach(function(s){return s.isScared=!1})}squares[pacmanCurrentIndex].classList.add("pacman"),document.addEventListener("keyup",control);var Ghost=function s(e,a,n){_classCallCheck(this,s),this.className=e,this.startIndex=a,this.speed=n,this.currentIndex=a,this.isScared=!1,this.timerId=NaN},ghosts=[new Ghost("pinky",348,250),new Ghost("blinky",376,400),new Ghost("inky",351,300),new Ghost("clyde",379,500)];function moveGhost(s){var e=[-1,1,-width,+width],a=e[Math.floor(Math.random()*e.length)];s.timerId=setInterval(function(){squares[s.currentIndex+a].classList.contains("wall")||squares[s.currentIndex+a].classList.contains("ghost")?a=e[Math.floor(Math.random()*e.length)]:(squares[s.currentIndex].classList.remove(s.className),squares[s.currentIndex].classList.remove("ghost","scared-ghost"),s.currentIndex+=a,squares[s.currentIndex].classList.add(s.className),squares[s.currentIndex].classList.add("ghost")),s.isScared&&squares[s.currentIndex].classList.add("scared-ghost"),s.isScared&&squares[s.currentIndex].classList.contains("pacman")&&(squares[s.currentIndex].classList.remove("ghost","scared-ghost",s.className),s.currentIndex=s.startIndex,score+=100,scoreDisplay.innerHTML=score,squares[s.currentIndex].classList.add("ghost",s.className)),gameOver()},s.speed)}function gameOver(){squares[pacmanCurrentIndex].classList.contains("ghost")&&!squares[pacmanCurrentIndex].classList.contains("scared-ghost")&&(ghosts.forEach(function(s){return clearInterval(s.timerId)}),document.removeEventListener("keyup",control),scoreDisplay.textContent="Game Over")}function checkForWin(){274===score&&(ghosts.forEach(function(s){return clearInterval(s.timerId)}),document.removeEventListener("keyup",control),scoreDisplay.innerHTML="you won")}ghosts.forEach(function(s){squares[s.startIndex].classList.add(s.className),squares[s.startIndex].classList.add("ghost")}),ghosts.forEach(function(s){return moveGhost(s)});
//# sourceMappingURL=index.min.js.map
