{"version":3,"sources":["index.js"],"names":["newDeck","document","getElementById","drawCards","cardDisplay","messageEl","remainingCardsDisplay","computerEl","playerEl","deckId","computerScore","handleClick","fetch","then","res","json","data","deck_id","textContent","remaining","disabled","children","innerHTML","concat","cards","image","playerScore","determineWinner","card1","card2","cardValue","card1ValueIndex","indexOf","value","card2ValueIndex","handleCard"],"mappings":"aACA,IAAMA,QAAUC,SAASC,eAAe,YAAlCF,UAAUC,SAASC,eAAe,cAClCC,YAAYF,SAASC,eAAe,gBACpCE,UAAeH,SAASC,eAAe,cACvCG,sBAAqBH,SAATA,eAAlB,mBACMI,WAAAA,SAAwBL,eAASC,eACjCK,SAAaN,SAASC,eAAe,aACrCM,OAAQ,GACVC,cAAJ,EACIC,YAAa,EAIjB,SAASC,cACLC,MAAM,8DACGC,KAAA,SAAAC,GAAIA,OAAIC,EAARA,SACRF,KAAK,SAAAG,GACFP,OAAaO,EAACC,QACdX,sBAAsBY,YAAkBF,EAACG,UAEf,IAAlBH,EAACG,YACLhB,UAAUiB,UAAV,KAaAhB,SAAAA,aAGAA,MAAAA,iDAAAA,OAAAK,OAAAL,mBAIDC,KAAUa,SAAAA,GAAAA,OAAAA,EAAVH,SACAT,KAAAA,SAAAA,GARCF,YAAYiB,SAAS,GAAGA,SAAS,GAAGC,UAApC,2BAAAC,OAUGP,EAAJQ,MAA0B,GAAAC,MAVzB,oCAGArB,YAAYiB,SAAS,GAAGA,SAAS,GAAGC,UAApC,2BAAAC,OASiBP,EAAGU,MAAAA,GAApBD,MATA,oCAYIpB,UAAUa,YAAcS,gBAAAX,EAAAQ,MAAxB,GAAAR,EAAAQ,MAAA,IADGlB,sBAEAY,YAAAF,EAAAG,UAEN,IAAAH,EAAAG,YACDhB,UAAAiB,UAAA,EAGXf,UAAAa,YAzBGQ,YAAAhB,cAyBH,gCARsBA,cAAgBgB,YAULf,8BAPM,mBA4BnC,SAAMgB,gBAAAC,EAAAC,GACH,IAAOC,EAAA,CAAA,IAAP,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IACH,KAAA,OAAA,QAAA,OAAA,OAIHC,EAAAD,EAAAE,QAAAJ,EAAAK,OAhBSC,EAAkBJ,EAAUE,QAAQH,EAAMI,OAEjD,OAAsBC,EAAlBH,GACArB,gBACDH,WAAWW,YAAcR,cACjB,iBACAqB,EAAkBG,GACzBR,cACDlB,SAASU,YAAcQ,YACf,iBAEA,gBARPhB,QAAAA,iBAAa,QAAAC,aAIbe,UAAAA,iBAAW,QAAAS","file":"index.min.js","sourcesContent":["\r\nconst newDeck = document.getElementById('new-deck')\r\nconst drawCards = document.getElementById('draw-cards')\r\nconst cardDisplay =  document.getElementById('card-display')\r\nconst messageEl = document.getElementById(\"message-el\")\r\nconst remainingCardsDisplay = document.getElementById(\"remaining-cards\")\r\nconst computerEl = document.getElementById('computer-el')\r\nconst playerEl = document.getElementById('player-el')\r\nlet deckId = ''\r\nlet computerScore = 0\r\nlet playerScore = 0\r\n\r\n\r\nfunction handleClick() {\r\n    fetch('https://apis.scrimba.com/deckofcards/api/deck/new/shuffle/')\r\n    .then(res => res.json())\r\n    .then(data => {\r\n        deckId = data.deck_id\r\n        remainingCardsDisplay.textContent = data.remaining\r\n\r\n        if (data.remaining !== 0) {\r\n            drawCards.disabled = false\r\n              \r\n           }\r\n           \r\n    })\r\n  \r\n}\r\n\r\n\r\nfunction handleCard() {\r\n    fetch(`https://apis.scrimba.com/deckofcards/api/deck/${deckId}/draw/?count=2`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            cardDisplay.children[0].children[1].innerHTML = `\r\n            <img src='${data.cards[0].image}' class=\"card\" />\r\n            `\r\n            cardDisplay.children[1].children[1].innerHTML = `\r\n            <img src='${data.cards[1].image}' class=\"card\" />\r\n            `\r\n           \r\n           messageEl.textContent = determineWinner(data.cards[0], data.cards[1])\r\n           remainingCardsDisplay.textContent = data.remaining\r\n          \r\n           if (data.remaining === 0) {\r\n            drawCards.disabled = true\r\n            if (computerScore > playerScore) {\r\n                messageEl.textContent = \"computer wins the whole thing\"\r\n            } else if (computerScore < playerScore) {\r\n                messageEl.textContent = 'player wins the whole thing'\r\n            } else {\r\n                messageEl.textContent = 'game is a tie'\r\n            }\r\n           }\r\n        })\r\n\r\n}\r\n\r\nnewDeck.addEventListener(\"click\", handleClick)\r\n\r\n\r\n\r\ndrawCards.addEventListener(\"click\", handleCard)\r\n\r\n\r\n function determineWinner(card1, card2) {\r\n     const cardValue = [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \r\n     \"10\", \"JACK\", \"QUEEN\", \"KING\", \"ACE\"]\r\n     const card1ValueIndex = cardValue.indexOf(card1.value)\r\n     const card2ValueIndex = cardValue.indexOf(card2.value)\r\n\r\n    if (card1ValueIndex > card2ValueIndex) {\r\n        computerScore++\r\n       computerEl.textContent = computerScore\r\n        return 'Computer wins'\r\n    } else if (card1ValueIndex < card2ValueIndex) {\r\n        playerScore++\r\n       playerEl.textContent = playerScore\r\n        return 'Player 1 wins'\r\n    } else {\r\n        return 'Game is a tie'\r\n    }\r\n      \r\n    \r\n\r\n }\r\n\r\n"]}